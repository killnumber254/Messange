(this["webpackJsonpmy-cha"]=this["webpackJsonpmy-cha"]||[]).push([[0],{37:function(e,t,a){},65:function(e,t,a){},67:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),r=a(30),l=a.n(r),c=a(10),i=a(11),h=a(13),o=a(12),u=(a(37),a(5)),d=a(9),j=a.n(d),b=a(2),m=a(0),p=function(e){Object(h.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={username:"",password:""},s.handleChangeUser=s.handleChangeUser.bind(Object(u.a)(s)),s.handleChangePassword=s.handleChangePassword.bind(Object(u.a)(s)),s.handleClick=s.handleClick.bind(Object(u.a)(s)),s}return Object(i.a)(a,[{key:"handleChangeUser",value:function(e){e.preventDefault(),this.setState({username:e.target.value})}},{key:"handleChangePassword",value:function(e){console.log(e.keyCode),e.preventDefault(),this.setState({password:e.target.value})}},{key:"handleClick",value:function(e){var t=this;e.preventDefault();var a={username:this.state.username,password:this.state.password};j.a.post("http://127.0.0.1:5000/login",a).then((function(e){return e})).then((function(e){if(console.log(e),e)return(0,t.props.setUser)(e.data.username),t.props.history.push("/chat")}))}},{key:"render",value:function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("form",{children:[Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Email address"}),Object(m.jsx)("input",{value:this.state.username,onChange:this.handleChangeUser,type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp"}),Object(m.jsx)("div",{id:"emailHelp",className:"form-text",children:"We'll never share your email with anyone else."})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{for:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(m.jsx)("input",{value:this.state.password,onChange:this.handleChangePassword,type:"password",className:"form-control",id:"exampleInputPassword1"})]}),Object(m.jsx)("button",{type:"submit",ref:this.logButton,onKeyDown:this.keyBoard,onClick:this.handleClick,className:"btn btn-primary",children:"Submit"})]})})}}]),a}(s.Component),f=Object(b.e)(p),v=a(14),O=(a(65),function(){return Object(m.jsxs)("div",{className:"nav",children:[Object(m.jsx)(v.b,{exact:!0,to:"/en",className:"navEN",children:"\u0412\u0445\u043e\u0434"}),Object(m.jsx)(v.b,{exact:!0,to:"/regist",className:"navRegist",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})}),g=function(e){Object(h.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={username:"",password:""},s.handleChangeUser=s.handleChangeUser.bind(Object(u.a)(s)),s.handleChangePassword=s.handleChangePassword.bind(Object(u.a)(s)),s.handleClick=s.handleClick.bind(Object(u.a)(s)),s}return Object(i.a)(a,[{key:"handleChangeUser",value:function(e){e.preventDefault(),this.setState({username:e.target.value})}},{key:"handleChangePassword",value:function(e){e.preventDefault(),this.setState({password:e.target.value})}},{key:"handleClick",value:function(e){var t=this;e.preventDefault();var a={username:this.state.username,password:this.state.password};j.a.post("http://127.0.0.1:5000/regist",a).then((function(e){return e})).then((function(e){if(console.log(e),e)return(0,t.props.setUser)(e.data.username),t.props.history.push("/chat")}))}},{key:"render",value:function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("form",{children:[Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{for:"exampleInputEmail1",className:"form-label",children:"Email address"}),Object(m.jsx)("input",{value:console.log(this.state.username),onChange:this.handleChangeUser,type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp"}),Object(m.jsx)("div",{id:"emailHelp",className:"form-text",children:"We'll never share your email with anyone else."})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{for:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(m.jsx)("input",{value:console.log(this.state.password),onChange:this.handleChangePassword,type:"password",className:"form-control",id:"exampleInputPassword1"})]}),Object(m.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})}}]),a}(s.Component),x=Object(b.e)(g),C=a(21),y=a.n(C),k=a(32);a(67);var w=function(e){var t=e.handleChange,a=e.handleClick,s=e.value;return Object(m.jsx)("div",{children:Object(m.jsxs)("form",{className:"chat_text",children:[Object(m.jsx)("input",{type:"text",onChange:t,value:s}),Object(m.jsx)("button",{type:"submit",onClick:a,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})})},N=function(e){var t=e.data.map((function(e){return console.log(e.id),Object(m.jsx)("li",{children:e.messange},e.id)}));return Object(m.jsx)("ul",{children:t})},U=function(e){Object(h.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={data:[],message:"",chat:"",datas:[]},s.handleChange=s.handleChange.bind(Object(u.a)(s)),s.handleClick=s.handleClick.bind(Object(u.a)(s)),s}return Object(i.a)(a,[{key:"handleChange",value:function(e){e.preventDefault(),this.setState({message:e.target.value})}},{key:"handleClick",value:function(e){var t=this;e.preventDefault(),this.setState({message:""}),this.postDataBase(),setTimeout((function(){t.dataBase()}),200)}},{key:"postDataBase",value:function(){var e=Object(k.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.setUser,a={usernames:t,messager:this.state.message},e.next=4,j.a.post("http://127.0.0.1:5000/chat",a).then((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dataBase",value:function(){var e=this;j.a.get("http://127.0.0.1:5000/chat:message").then((function(t){console.log(t),e.setState({datas:t.data})}))}},{key:"componentDidMount",value:function(){var e=this;j.a.get("http://127.0.0.1:5000/chat:mess").then((function(t){e.setState({datas:t.data})}))}},{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(N,{data:this.state.datas}),Object(m.jsx)(w,{value:this.state.message,handleChange:this.handleChange,handleClick:this.handleClick})]})}}]),a}(s.Component),P=(a(68),function(e){Object(h.a)(a,e);var t=Object(o.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).setUser=function(e){console.log(e),s.setState({user:e})},s.state={user:null,data:null},s}return Object(i.a)(a,[{key:"render",value:function(){var e=null;return this.state.user||(e=Object(m.jsxs)("div",{className:"auth_regist",children:[Object(m.jsx)(O,{}),Object(m.jsx)(b.a,{path:"/en",children:Object(m.jsx)(f,{setUser:this.setUser})}),Object(m.jsx)(b.a,{path:"/regist",children:Object(m.jsx)(x,{setUser:this.setUser})})]})),Object(m.jsxs)(v.a,{children:[e,Object(m.jsx)(b.a,{path:"/chat",children:Object(m.jsx)(U,{setUser:this.state.user})})]})}}]),a}(s.Component)),D=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,70)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,l=t.getTTFB;a(e),s(e),n(e),r(e),l(e)}))};l.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(P,{})}),document.getElementById("root")),D()}},[[69,1,2]]]);