(this["webpackJsonpmy-cha"]=this["webpackJsonpmy-cha"]||[]).push([[0],{37:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),r=n(30),c=n.n(r),h=n(10),i=n(11),l=n(13),u=n(12),o=(n(37),n(5)),d=n(15),j=n.n(d),b=n(2),p=n(0),O=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={username:"",password:""},a.handleChangeUser=a.handleChangeUser.bind(Object(o.a)(a)),a.handleChangePassword=a.handleChangePassword.bind(Object(o.a)(a)),a.handleClick=a.handleClick.bind(Object(o.a)(a)),a}return Object(i.a)(n,[{key:"handleChangeUser",value:function(e){e.preventDefault(),this.setState({username:e.target.value})}},{key:"handleChangePassword",value:function(e){e.preventDefault(),this.setState({password:e.target.value})}},{key:"handleClick",value:function(e){var t=this;e.preventDefault();var n={username:this.state.username,password:this.state.password};j.a.post("http://127.0.0.1:5000/login",n).then((function(e){return e})).then((function(e){if(console.log(e),e)return(0,t.props.setUser)(e.data.username),t.props.history.push("/chat")}))}},{key:"render",value:function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("input",{value:console.log(this.state.username),onChange:this.handleChangeUser,type:"text"}),Object(p.jsx)("input",{value:console.log(this.state.password),onChange:this.handleChangePassword,type:"password"}),Object(p.jsx)("button",{onClick:this.handleClick,children:"\u0412\u043e\u0439\u0442\u0438"})]})}}]),n}(a.Component),g=Object(b.e)(O),v=n(14),C=function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(v.b,{exact:!0,to:"/en",children:"\u0412\u0445\u043e\u0434"}),Object(p.jsx)(v.b,{exact:!0,to:"/regist",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})},f=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={username:"",password:""},a.handleChangeUser=a.handleChangeUser.bind(Object(o.a)(a)),a.handleChangePassword=a.handleChangePassword.bind(Object(o.a)(a)),a.handleClick=a.handleClick.bind(Object(o.a)(a)),a}return Object(i.a)(n,[{key:"handleChangeUser",value:function(e){e.preventDefault(),this.setState({username:e.target.value})}},{key:"handleChangePassword",value:function(e){e.preventDefault(),this.setState({password:e.target.value})}},{key:"handleClick",value:function(e){var t=this;e.preventDefault();var n={username:this.state.username,password:this.state.password};j.a.post("http://127.0.0.1:5000/regist",n).then((function(e){return e})).then((function(e){if(console.log(e),e)return(0,t.props.setUser)(e.data.username),t.props.history.push("/chat")}))}},{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{value:console.log(this.state.username),onChange:this.handleChangeUser,type:"text"}),Object(p.jsx)("input",{value:console.log(this.state.password),onChange:this.handleChangePassword,type:"password"}),Object(p.jsx)("button",{onClick:this.handleClick,children:"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})}}]),n}(a.Component),x=Object(b.e)(f);n(65);var m=function(e){var t=e.handleChange,n=e.handleClick;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"chat_text",children:[Object(p.jsx)("input",{type:"text",onChange:t}),Object(p.jsx)("button",{onClick:n,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})})},k=n(21),w=n(32),y=function(e){var t=e.chat;return Object(p.jsx)("span",{children:t})},U=["id"],P=function(e){var t=e.list,n=e.chat,a=t.map((function(e){e.id;var t=Object(w.a)(e,U);return Object(p.jsx)("li",{children:Object(p.jsx)(y,Object(k.a)(Object(k.a)({},t),{},{chat:n}))})}));return Object(p.jsx)("ul",{children:a})},D=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={data:[],message:"",chat:""},a.handleChange=a.handleChange.bind(Object(o.a)(a)),a.handleClick=a.handleClick.bind(Object(o.a)(a)),a}return Object(i.a)(n,[{key:"handleChange",value:function(e){e.preventDefault(),this.setState({message:e.target.value})}},{key:"handleClick",value:function(e){var t=this,n=this.props.setUser;e.preventDefault();var a={usernames:n,messager:this.state.message};j.a.post("http://127.0.0.1:5000/chat",a).then((function(e){return e})).then((function(e){return t.setState({data:e.data,chat:e.data.messange})}))}},{key:"render",value:function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(P,{chat:this.state.chat,list:this.state.data}),Object(p.jsx)("span",{children:console.log(this.state.data)}),Object(p.jsx)(m,{handleChange:this.handleChange,handleClick:this.handleClick})]})}}]),n}(a.Component),S=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).setUser=function(e){console.log(e),a.setState({user:e})},a.state={user:null},a}return Object(i.a)(n,[{key:"render",value:function(){var e=null;return this.state.user||(e=Object(p.jsxs)("div",{className:"auth_regist",children:[Object(p.jsx)(C,{}),Object(p.jsx)(b.a,{path:"/en",children:Object(p.jsx)(g,{setUser:this.setUser})}),Object(p.jsx)(b.a,{path:"/regist",children:Object(p.jsx)(x,{setUser:this.setUser})})]})),Object(p.jsxs)(v.a,{children:[e,Object(p.jsx)(b.a,{path:"/chat",children:Object(p.jsx)(D,{setUser:this.state.user})})]})}}]),n}(a.Component),F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,67)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))};c.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(S,{})}),document.getElementById("root")),F()}},[[66,1,2]]]);
//# sourceMappingURL=main.92f035bf.chunk.js.map