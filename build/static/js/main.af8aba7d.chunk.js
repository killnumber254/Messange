(this["webpackJsonpmy-cha"]=this["webpackJsonpmy-cha"]||[]).push([[0],{37:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(30),c=a.n(r),i=a(10),h=a(11),l=a(13),o=a(12),u=(a(37),a(5)),d=a(9),j=a.n(d),b=a(2),p=a(1),g=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={username:"",password:""},n.handleChangeUser=n.handleChangeUser.bind(Object(u.a)(n)),n.handleChangePassword=n.handleChangePassword.bind(Object(u.a)(n)),n.handleClick=n.handleClick.bind(Object(u.a)(n)),n}return Object(h.a)(a,[{key:"handleChangeUser",value:function(e){e.preventDefault(),this.setState({username:e.target.value})}},{key:"handleChangePassword",value:function(e){console.log(e.keyCode),e.preventDefault(),this.setState({password:e.target.value})}},{key:"handleClick",value:function(e){var t=this;e.preventDefault();var a={username:this.state.username,password:this.state.password};j.a.post("http://127.0.0.1:5000/login",a).then((function(e){return e})).then((function(e){if(console.log(e),e)return(0,t.props.setUser)(e.data.username),t.props.history.push("/chat")}))}},{key:"render",value:function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("form",{children:[Object(p.jsx)("input",{value:this.state.username,onChange:this.handleChangeUser,type:"text"}),Object(p.jsx)("input",{value:this.state.password,onChange:this.handleChangePassword,type:"password"}),Object(p.jsx)("button",{type:"submit",ref:this.logButton,onKeyDown:this.keyBoard,onClick:this.handleClick,children:"\u0412\u043e\u0439\u0442\u0438"})]})})}}]),a}(n.Component),v=Object(b.e)(g),f=a(14),O=function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(f.b,{exact:!0,to:"/en",children:"\u0412\u0445\u043e\u0434"}),Object(p.jsx)(f.b,{exact:!0,to:"/regist",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})},C=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={username:"",password:""},n.handleChangeUser=n.handleChangeUser.bind(Object(u.a)(n)),n.handleChangePassword=n.handleChangePassword.bind(Object(u.a)(n)),n.handleClick=n.handleClick.bind(Object(u.a)(n)),n}return Object(h.a)(a,[{key:"handleChangeUser",value:function(e){e.preventDefault(),this.setState({username:e.target.value})}},{key:"handleChangePassword",value:function(e){e.preventDefault(),this.setState({password:e.target.value})}},{key:"handleClick",value:function(e){var t=this;e.preventDefault();var a={username:this.state.username,password:this.state.password};j.a.post("http://127.0.0.1:5000/regist",a).then((function(e){return e})).then((function(e){if(console.log(e),e)return(0,t.props.setUser)(e.data.username),t.props.history.push("/chat")}))}},{key:"render",value:function(){return Object(p.jsxs)("form",{children:[Object(p.jsx)("input",{value:console.log(this.state.username),onChange:this.handleChangeUser,type:"text"}),Object(p.jsx)("input",{value:console.log(this.state.password),onChange:this.handleChangePassword,type:"password"}),Object(p.jsx)("button",{type:"submit",onClick:this.handleClick,children:"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})}}]),a}(n.Component),m=Object(b.e)(C),x=a(21),k=a.n(x),y=a(32);a(66);var w=function(e){var t=e.handleChange,a=e.handleClick,n=e.value;return Object(p.jsx)("div",{children:Object(p.jsxs)("form",{className:"chat_text",children:[Object(p.jsx)("input",{type:"text",onChange:t,value:n}),Object(p.jsx)("button",{type:"submit",onClick:a,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})})},U=function(e){var t=e.data.map((function(e){return console.log(e.id),Object(p.jsx)("li",{children:e.messange},e.id)}));return Object(p.jsx)("ul",{children:t})},D=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={data:[],message:"",chat:"",datas:[]},n.handleChange=n.handleChange.bind(Object(u.a)(n)),n.handleClick=n.handleClick.bind(Object(u.a)(n)),n}return Object(h.a)(a,[{key:"handleChange",value:function(e){e.preventDefault(),this.setState({message:e.target.value})}},{key:"handleClick",value:function(e){e.preventDefault(),this.setState({message:""}),this.postDataBase(),this.dataBase()}},{key:"postDataBase",value:function(){var e=Object(y.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.setUser,a={usernames:t,messager:this.state.message},e.next=4,j.a.post("http://127.0.0.1:5000/chat",a).then((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dataBase",value:function(){var e=this;j.a.get("http://127.0.0.1:5000/chat:message").then((function(t){console.log(t),e.setState({datas:t.data})}))}},{key:"componentDidMount",value:function(){var e=this;j.a.get("http://127.0.0.1:5000/chat:mess").then((function(t){e.setState({datas:t.data})}))}},{key:"render",value:function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(U,{data:this.state.datas}),Object(p.jsx)(w,{value:this.state.message,handleChange:this.handleChange,handleClick:this.handleClick})]})}}]),a}(n.Component),S=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).setUser=function(e){console.log(e),n.setState({user:e})},n.state={user:null,data:null},n}return Object(h.a)(a,[{key:"render",value:function(){var e=null;return this.state.user||(e=Object(p.jsxs)("div",{className:"auth_regist",children:[Object(p.jsx)(O,{}),Object(p.jsx)(b.a,{path:"/en",children:Object(p.jsx)(v,{setUser:this.setUser})}),Object(p.jsx)(b.a,{path:"/regist",children:Object(p.jsx)(m,{setUser:this.setUser})})]})),Object(p.jsxs)(f.a,{children:[e,Object(p.jsx)(b.a,{path:"/chat",children:Object(p.jsx)(D,{setUser:this.state.user})})]})}}]),a}(n.Component),P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,68)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),r(e),c(e)}))};c.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(S,{})}),document.getElementById("root")),P()}},[[67,1,2]]]);